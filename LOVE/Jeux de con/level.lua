local json = require("dkjson")

local str = [[
{
    "platforms" : {
        "1" : {"x" : 260, "y": 3050, "w": 280, "h": 180},
        "2" : {"x" : 970, "y": 2590, "w": 280, "h": 180},
        "3" : {"x" : 2400, "y": 2500, "w": 280, "h": 180},
        "4" : {"x" : 2660, "y": 2500, "w": 280, "h": 180},
        "5" : {"x" : 3360, "y": 2500, "w": 280, "h": 180},
        "6" : {"x" : 3540, "y": 2500, "w": 280, "h": 180},
        "7" : {"x" : 2500, "y": 1750, "w": 280, "h": 180},
        "8" : {"x" : 3880, "y": 550, "w": 100, "h": 2132},
        "9" : {"x" : 3880, "y": 0, "w": 100, "h": 440},
        "10" : {"x" : 2340, "y": 1500, "w": 150, "h": 180},
        "11" : {"x" : 209, "y": 876, "w": 415, "h": 180},
        "12" : {"x" : 1520, "y": 415, "w": 150, "h": 180},
        "13" : {"x" : 1960, "y": 0, "w": 110, "h": 600},
        "14" : {"x" : 2400, "y": 390, "w": 150, "h": 180},
        "15" : {"x" : 4450, "y": 0, "w": 100, "h": 1940},
        "16" : {"x" : 4565, "y": 1515, "w": 1800, "h": 100},
        "17" : {"x" : 4920, "y": 2200, "w": 155, "h": 180},
        "18" : {"x" : 6800, "y": 2110, "w": 150, "h": 180},
        "19" : {"x" : 6095, "y": 1155, "w": 140, "h": 100},
        "20" : {"x" : 5740, "y": 910, "w": 520, "h": 100},
        "21" : {"x" : 6095, "y": 885, "w": 140, "h": 100},
        "22" : {"x" : 5440, "y": 1170, "w": 400, "h": 100},
        "23" : {"x" : 5440, "y": 845, "w": 230, "h": 100},
        "24" : {"x" : 5440, "y": 1170, "w": 400, "h": 100},
        "25" : {"x" : 5440, "y": 845, "w": 230, "h": 100},
        "26" : {"x" : 5060, "y": 910, "w": 370, "h": 100}
    }
}
]]

local obj, pos, err = json.decode(str, 1, nil)
if err then
    print("Error:", err)
else
    -- Ici, vous pouvez parcourir les plateformes
    for key, platform in pairs(obj.platforms) do
        print("Platform", key, "x:", platform.x, "y:", platform.y, "w:", platform.w, "h:", platform.h)
    end
end